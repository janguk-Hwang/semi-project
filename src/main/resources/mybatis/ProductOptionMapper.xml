<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.mapper.ProductOptionMapper">
    <!--주문취소 : 상품 재고 증가(옵션있는경우)-->
    <update id="increaseOptionStock" parameterType="StockUpdateDto">
        update product_option set stock=stock+#{quantity} where option_id=#{option_id}
    </update>

    <select id="selectProductOption" parameterType="int" resultType="ProductOptionDto">
        select option_id, option_name, stock, product_id from product_option
        where product_id=#{product_id}
    </select>

    <select id="selectOptionStock" parameterType="int" resultType="int">
        select stock from product_option where option_id=#{option_id}
    </select>

    <select id="selectOptionById" parameterType="int" resultType="ProductOptionDto">
        select option_id,option_name,stock from product_option where option_id=#{option_id}
    </select>
</mapper>