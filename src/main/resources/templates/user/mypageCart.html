<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/landing.css}">
    <title>user/mypageCart.html</title>
  <style>
    .cart-header{
      margin-bottom: 20px;
    }
    .cart-header h2{
      font-size: 22px;
      font-weight: bold;
    }
    .cart-list{
      border-top: 2px solid #333;
    }
    .cart-list > .col-check,
    .cart-list > .col-qty,
    .cart-list > .col-price,
    .cart-list > .col-ship {
      display: inline-block;
      padding: 12px 10px;
      font-weight: bold;
      background: #f5f5f5;
    }
    .cart-list > .col-check{
      width: 50%;
    }
    .cart-list > .col-qty,
    .cart-list > .col-price,
    .cart-list > .col-ship{
      width: 16%;
      text-align: center;
    }
    .cart-row{
      display: grid;
      grid-template-columns: 50% 16% 16% 16%;
      align-items: center;
      padding: 15px 0;
      border-bottom: 1px solid #ddd;
    }
    .col-check{
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .col-check input[type="checkbox"]{
      margin-right: 10px;
    }
    .col-check img{
      width: 80px;
      height: 80px;
      object-fit: cover;
      border: 1px solid #ccc;
    }
    .item-info {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .item-name{
      font-size: 15px;
      font-weight: 600;
    }
    .item-option{
      font-size: 13px;
      color: #666;
    }
    .remove-btn{
      margin-top: 6px;
      width: fit-content;
      background: none;
      border: none;
      color: #999;
      font-size: 12px;
      cursor: pointer;
    }
    .remove-btn:hover{
      color: #ff4444;
      text-decoration: underline;
    }
    .col-qty{
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }
    .col-qty button{
      width: 28px;
      height: 28px;
      border: 1px solid #ccc;
      cursor: pointer;
    }
    .col-price,
    .col-ship{
      text-align: center;
      font-size: 15px;
      font-weight: 600;
    }
    .col-ship{
      color: #666;
      font-size: 14px;
    }
    .cart-list > .col-check > span{
      font-size: 14px;
    }
  </style>
</head>
<body>
<!--header-->
<div th:replace="~{fragments/layout::header}"></div>

<!--content-->
<th:block th:replace="~{fragments/layout::getMain(~{::content})}">
  <div th:fragment="content">
    <section class="cart-header">
      <h2>장바구니(<span th:text="${cartCount}">0</span>)</h2>
    </section>
    <section class="cart-list">
      <div class="col-check">
        <input type="checkbox">
        <span>상품정보</span>
      </div>
      <div class="col-qty">수량</div>
      <div class="col-price">가격</div>
      <div class="col-ship">배송비</div>

      <div class="cart-row" th:each="item:${cartlist}">
        <div class="col-check">
          <input type="checkbox" name="cartIds" th:value="${item.cart_id}">
          <img th:src="@{'/images/'+${item.savefilename}}" alt="대표이미지">
          <p th:text="${item.savefilename}"></p>
          <div class="item-info">
            <p class="item-name" th:text="${item.product_name}">상품명</p>
            <p class="item-option" th:if="${item.option_name!=null}" th:text="${item.option_name}">옵션타입</p>
            <button type="button" class="remove-btn">삭제하기</button>
          </div>
        </div>

        <div class="col-qty">
          <button>-</button>
          <span th:text="${item.quantity}">0</span>
          <button>+</button>
        </div>

        <div class="col-price">
          <span th:text="${#numbers.formatInteger(item.total_price,0,'COMMA')}+' 원'">0 원</span>
        </div>

        <div col-ship>
          무료
        </div>
      </div>
    </section>
    <section class="cart-summary">
      <div class="cart-actions">
        <button type="button" id="deleteBtn">선택삭제</button>
      </div>
      <div class="summary-box">
        <div class="summary-row">
          <span>상품 합계</span>
          <span>0원</span>
        </div>
        <div class="summary-row">
          <span>배송비</span>
          <span>0원</span>
        </div>
        <hr>
        <div class="summary-row total">
          <span>총 결제금액</span>
          <span>0원</span>
        </div>
        <div class="summary-button">
          <button type="button" id="orderBtn">구매하기</button>
        </div>
      </div>
    </section>
  </div>
</th:block>

<!--footer-->
<div th:replace="~{fragments/layout::footer}"></div>
</body>
</html>